package com.iflytek.rest;import com.iflytek.entity.MockResult;import com.iflytek.entity.req.RecommendCommonParams;import com.iflytek.entity.res.ResponseContent;import com.iflytek.service.impl.RecServiceImpl;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import org.springframework.web.bind.annotation.RestController;import javax.servlet.http.HttpServletResponse;import java.io.IOException;/** * @author: demopoo * @Date: Created in 下午11:40 2018/4/16 * @Des:  推荐 * @Modifyed By: */@RestController@RequestMapping("/iflytek/api/suggestion")public class RecommendController {    private Logger logger = LoggerFactory.getLogger(RecommendController.class);    @Autowired    private RecServiceImpl recService;    /**     * OTT 推荐接口     * @param params     * @param response     * @return     */    @RequestMapping(value = "/rec_ott",method = RequestMethod.POST,produces = { "text/xml;charset=GBK" },consumes = {"text/xml"})    public Object recOtt(@RequestBody RecommendCommonParams params, HttpServletResponse response) throws IOException{        ResponseContent respContent = recService.getAllRec(params);        return MockResult.returnSuccessResult(params,respContent);    }    /**     * 播放结束推荐     * @param params     * @param response     * @return     */    @RequestMapping(value = "/rec_vod_end",method = RequestMethod.POST,produces = { "text/xml;charset=GBK" },consumes = {"text/xml"})    public Object recVodEnd(@RequestBody RecommendCommonParams params, HttpServletResponse response) throws IOException{        ResponseContent respContent = recService.getDbRec(params);        return MockResult.returnSuccessResult(params,respContent);    }    /**     * 详情推荐接口     * @param params     * @param response     * @return     */    @RequestMapping(value = "/rec_vod_relate",method = RequestMethod.POST,produces = { "text/xml;charset=GBK" },consumes = {"text/xml"})    public Object recVodRelate(@RequestBody RecommendCommonParams params, HttpServletResponse response) throws IOException{        ResponseContent respContent = recService.getDbRec(params);        return MockResult.returnSuccessResult(params,respContent);    }}