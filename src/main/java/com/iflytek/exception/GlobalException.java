package com.iflytek.exception;import com.iflytek.entity.MockResult;import com.iflytek.entity.req.RecommendCommonParams;import com.iflytek.entity.res.RecommendCommonResult;import com.iflytek.entity.res.ResponseInfo;import com.iflytek.exception.exceptionhandle.SecurityVerificationException;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.bind.annotation.RestControllerAdvice;import javax.servlet.http.HttpServletRequest;import javax.validation.ConstraintViolationException;import java.io.IOException;/** * @author: demopoo * @Date: Created in 上午10:51 2018/4/17 * @Des:  全局异常捕获 * @Modifyed By: */@RestControllerAdvicepublic class GlobalException {    @ExceptionHandler(value = Exception.class)    public RecommendCommonResult defaultExceptionHandle(RecommendCommonParams params, Exception ex){        int errorCode = 0;        String errorMsg = "";        if (ex instanceof ConstraintViolationException){            errorCode = 9002;            errorMsg = "errorMsg";//参数异常        }else if (ex instanceof SecurityVerificationException){            errorCode = 9004;            errorMsg = "SECURITY CHECK FAILED";//安全校验不通过        }else if (ex instanceof IOException){            errorCode = 9003;            errorMsg = "SERVER ERROR";//引擎错误        }else {            errorCode = 9999;            errorMsg = "UNKNOWN ERROR";//未知异常        }        ResponseInfo responseInfo = new ResponseInfo();        responseInfo.setResp_desc(errorMsg);        responseInfo.setResp_code(errorCode);        responseInfo.setResp_result(1);        return MockResult.getRecommendCommonResult(params.getAccept_info().getAccept_id(),responseInfo,null);    }}